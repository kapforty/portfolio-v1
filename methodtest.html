<!DOCTYPE html>
<html lang="en">

<head>
    
</head>

<body>
    <form>
        <label for="id">ID:</label>
        <input type="number" id="id" name="id"><br><br>
        
        <label for="article_name">Article Name:</label>
        <input type="text" id="article_name" name="article_name"><br><br>
        
        <label for="article_body">Article Body:</label>
        <textarea id="article_body" name="article_body"></textarea><br><br>
        
        <label for="date">Date:</label>
        <input type="text" id="date" name="date" disabled><br><br>

        <button type="button" id="postBtn">Post</button>
        <button type="button" id="getBtn">Get</button>
        <button type="button" id="putBtn">Put</button>
        <button type="button" id="deleteBtn">Delete</button>

        <output id="response"></output>
      </form>

      <script>
        var now = new Date();
        document.getElementById("date").value = now;

        var postBtn = document.getElementById("postBtn");
        var getBtn = document.getElementById("getBtn");
        var putBtn = document.getElementById("putBtn");
        var deleteBtn = document.getElementById("deleteBtn");
        postBtn.addEventListener("click", postData);
        getBtn.addEventListener("click", getData);
        putBtn.addEventListener("click", putData);
        deleteBtn.addEventListener("click", deleteData);

        function postData() {
            var id = document.getElementById("id").value;
            var article_name = document.getElementById("article_name").value;
            var article_body = document.getElementById("article_body").value;
            var date = document.getElementById("date").value;

            var data = {
                id: id,
                article_name: article_name,
                article_body: article_body,
                date: date
            };

            fetch("https://httpbin.org/post", {
                method: "POST",
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                var output = document.getElementById("response");
                output.innerHTML = "";
                output.appendChild(formatDataAsTable(data));
            })
            .catch(error => console.error(error));
        }

        function getData() {
            var id = document.getElementById("id").value;
            var url = "https://httpbin.org/get?id=" + id;
            
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    var output = document.getElementById("response");
                    output.innerHTML = "";
                    output.appendChild(formatDataAsTable(data));
                })
                .catch(error => console.error(error));
        }

        function putData() {
            var id = document.getElementById("id").value;
            var article_name = document.getElementById("article_name").value;
            var article_body = document.getElementById("article_body").value;
            var date = document.getElementById("date").value;

            var data = {
                id: id,
                article_name: article_name,
                article_body: article_body,
                date: date
            };

            fetch("https://httpbin.org/put", {
            method: "PUT",
            body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                var output = document.getElementById("response");
                output.innerHTML = "";
                output.appendChild(formatDataAsTable(data));
            })
            .catch(error => console.error(error));
        }

        function deleteData() {
            var id = document.getElementById("id").value;

            fetch("https://httpbin.org/delete?id=" + id, {
                method: "DELETE",
            })
                .then(response => response.json())
                .then(data => {
                var output = document.getElementById("response");
                output.innerHTML = "";
                output.appendChild(formatDataAsTable(data));
                })
                .catch(error => console.error(error));
        }

        function formatDataAsTable(data) {
            var table = document.createElement("table");
            table.classList.add("table");

            var headerRow = document.createElement("tr");
            for (var key in data) {
                var headerCell = document.createElement("th");
                headerCell.textContent = key;
                headerRow.appendChild(headerCell);
            }
            table.appendChild(headerRow);

            var dataRow = document.createElement("tr");
            for (var key in data) {
                var dataCell = document.createElement("td");
                dataCell.textContent = JSON.stringify(data[key]);
                dataRow.appendChild(dataCell);
            }
            table.appendChild(dataRow);

            return table;
        }

      </script>
</body> 
</html>